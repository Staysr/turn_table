{"remainingRequest":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/turn_table/src/components/turnTable.vue?vue&type=style&index=0&id=fb056e1e&lang=less&scoped=true&","dependencies":[{"path":"/Users/admin/Desktop/turn_table/src/components/turnTable.vue","mtime":1638500399031},{"path":"/Users/admin/Desktop/turn_table/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoNCkB6cF9zaXplOiA0NjBweDsgLy/ovaznm5jlsLrlr7gNCkBidG5fc2l6ZTogMTUwcHg7IC8v5oq95aWW5oyJ6ZKu5bC65a+4DQpAdGltZTogM3M7IC8v6L2s5Yqo5aSa5bCR56eS5ZCO5YGc5LiL55qE5pe26Ze0DQouenAtYm94IHsNCiAgLS1udW1zOiA2OyAvLyDovaznm5jliIblh6Dku70NCiAgcG9zaXRpb246IGFic29sdXRlOw0KICB0b3A6IDUwJTsNCiAgbGVmdDogNTAlOw0KICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTsNCiAgZGlzcGxheTogZmxleDsNCiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7DQogIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogIHdpZHRoOiBAenBfc2l6ZTsNCiAgaGVpZ2h0OiBAenBfc2l6ZTsNCiAgdXNlci1zZWxlY3Q6IG5vbmU7DQogIG92ZXJmbG93OiBoaWRkZW47DQogIC8qIOaKveWlluaMiemSriAqLw0KICAuc3RhcnQtYnRuIHsNCiAgICBwb3NpdGlvbjogcmVsYXRpdmU7DQogICAgd2lkdGg6IEBidG5fc2l6ZTsNCiAgICBoZWlnaHQ6IEBidG5fc2l6ZTsNCiAgICBkaXNwbGF5OiBmbGV4Ow0KICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOw0KICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgIC5jaXJjbGUgew0KICAgICAgd2lkdGg6IDEwMCU7DQogICAgICBoZWlnaHQ6IDEwMCU7DQogICAgfQ0KICAgIC5hcnJvdyB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICB0b3A6IC01M3B4Ow0KICAgICAgd2lkdGg6IDMwcHg7DQogICAgfQ0KICB9DQogIC8qIOebmOWtkOagt+W8jyAqLw0KICAucGFuemkgew0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICBsZWZ0OiAwOw0KICAgIHRvcDogMDsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgZGlzcGxheTogZmxleDsNCiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsNCiAgICBhbGlnbi1pdGVtczogY2VudGVyOw0KICAgIGJvcmRlci1yYWRpdXM6IDUwJTsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIC8qIOavj+S4quWllumhueeahOagt+W8jyAqLw0KICAgIC5qaWFuZyB7DQogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7DQogICAgICBkaXNwbGF5OiBmbGV4Ow0KICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsNCiAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7DQogICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47DQogICAgICBoZWlnaHQ6IDIwMHB4Ow0KICAgICAgcGFkZGluZy1ib3R0b206IDEyMHB4Ow0KICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIC50aXRsZSB7DQogICAgICAgIGNvbG9yOiAjZmYyYjAwOw0KICAgICAgICBmb250LXNpemU6IDE0cHg7DQogICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOw0KICAgICAgfQ0KICAgICAgLmltZyB7DQogICAgICAgIHdpZHRoOiA1MHB4Ow0KICAgICAgICBoZWlnaHQ6IDUwcHg7DQogICAgICB9DQogICAgfQ0KICB9DQogIC5iY2stYm94IHsNCiAgICBvdmVyZmxvdzogaGlkZGVuOw0KICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICB3aWR0aDogMTAwJTsNCiAgICBoZWlnaHQ6IDEwMCU7DQogICAgbGVmdDogMDsNCiAgICB0b3A6IDA7DQogICAgYm9yZGVyLXJhZGl1czogNTAlOw0KICAgIC8qIOi9rOebmOaJh+W9ouiDjOaZryAqLw0KICAgIC5iY2sgew0KICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDsNCiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsNCiAgICAgIHdpZHRoOiAxMDAlOw0KICAgICAgaGVpZ2h0OiAxMDAlOw0KICAgICAgb3BhY2l0eTogMTsNCiAgICAgIHRvcDogLTUwJTsNCiAgICAgIGxlZnQ6IDUwJTsNCiAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAlIDEwMCU7DQogICAgfQ0KICAgIC8qIOi9rOebmOiDjOaZr+iJsiAqLw0KICAgIC5iY2s6bnRoLWNoaWxkKDJuKSB7DQogICAgICBiYWNrZ3JvdW5kOiAjZmZmOw0KICAgIH0NCiAgICAuYmNrOm50aC1jaGlsZCgybiArIDEpIHsNCiAgICAgIGJhY2tncm91bmQ6ICNmZmQ3YjA7DQogICAgfQ0KICB9DQoNCiAgLyog5LiL6Z2i55qEY3Nz5qC35byP5Li65q+P5Liq5aWW5ZOB55qE5peL6L2s5Yqo55S777yM6L+Z6YeM5YaZ5LqG5a+55bqUOOS4quWlluWTgeeahOWKqOeUu++8jOWmguaenOaDs+imgeabtOWkmueahOivne+8jOWPr+S7pea3u+WKoCAqLw0KICAvKiDkvovlpoLvvJogLndyOCAgQGtleWZyYW1lcyBwbGF5OCAqLw0KICAud3IwLA0KICAud3IxLA0KICAud3IyLA0KICAud3IzLA0KICAud3I0LA0KICAud3I1LA0KICAud3I2LA0KICAud3I3IHsNCiAgICBhbmltYXRpb24tZHVyYXRpb246IEB0aW1lOw0KICAgIGFuaW1hdGlvbi10aW1pbmctZnVuY3Rpb246IGVhc2U7DQogICAgYW5pbWF0aW9uLWZpbGwtbW9kZTogYm90aDsNCiAgICBhbmltYXRpb24taXRlcmF0aW9uLWNvdW50OiAxOw0KICB9DQogIC53cjAgew0KICAgIGFuaW1hdGlvbi1uYW1lOiBwbGF5MDsNCiAgfQ0KICAud3IxIHsNCiAgICBhbmltYXRpb24tbmFtZTogcGxheTE7DQogIH0NCiAgLndyMiB7DQogICAgYW5pbWF0aW9uLW5hbWU6IHBsYXkyOw0KICB9DQogIC53cjMgew0KICAgIGFuaW1hdGlvbi1uYW1lOiBwbGF5MzsNCiAgfQ0KICAud3I0IHsNCiAgICBhbmltYXRpb24tbmFtZTogcGxheTQ7DQogIH0NCiAgLndyNSB7DQogICAgYW5pbWF0aW9uLW5hbWU6IHBsYXk1Ow0KICB9DQogIC53cjYgew0KICAgIGFuaW1hdGlvbi1uYW1lOiBwbGF5NjsNCiAgfQ0KICAud3I3IHsNCiAgICBhbmltYXRpb24tbmFtZTogcGxheTc7DQogIH0NCiAgQGtleWZyYW1lcyBwbGF5MCB7DQogICAgdG8gew0KICAgICAgdHJhbnNmb3JtOiByb3RhdGUoY2FsYyg0ICogMzYwZGVnICsgMzYwZGVnIC8gdmFyKC0tbnVtcykgKiAwKSk7DQogICAgfQ0KICB9DQogIEBrZXlmcmFtZXMgcGxheTEgew0KICAgIHRvIHsNCiAgICAgIHRyYW5zZm9ybTogcm90YXRlKGNhbGMoNCAqIDM2MGRlZyArIDM2MGRlZyAvIHZhcigtLW51bXMpICogMSkpOw0KICAgIH0NCiAgfQ0KICBAa2V5ZnJhbWVzIHBsYXkyIHsNCiAgICB0byB7DQogICAgICB0cmFuc2Zvcm06IHJvdGF0ZShjYWxjKDQgKiAzNjBkZWcgKyAzNjBkZWcgLyB2YXIoLS1udW1zKSAqIDIpKTsNCiAgICB9DQogIH0NCiAgQGtleWZyYW1lcyBwbGF5MyB7DQogICAgdG8gew0KICAgICAgdHJhbnNmb3JtOiByb3RhdGUoY2FsYyg0ICogMzYwZGVnICsgMzYwZGVnIC8gdmFyKC0tbnVtcykgKiAzKSk7DQogICAgfQ0KICB9DQogIEBrZXlmcmFtZXMgcGxheTQgew0KICAgIHRvIHsNCiAgICAgIHRyYW5zZm9ybTogcm90YXRlKGNhbGMoNCAqIDM2MGRlZyArIDM2MGRlZyAvIHZhcigtLW51bXMpICogNCkpOw0KICAgIH0NCiAgfQ0KICBAa2V5ZnJhbWVzIHBsYXk1IHsNCiAgICB0byB7DQogICAgICB0cmFuc2Zvcm06IHJvdGF0ZShjYWxjKDQgKiAzNjBkZWcgKyAzNjBkZWcgLyB2YXIoLS1udW1zKSAqIDUpKTsNCiAgICB9DQogIH0NCiAgQGtleWZyYW1lcyBwbGF5NiB7DQogICAgdG8gew0KICAgICAgdHJhbnNmb3JtOiByb3RhdGUoY2FsYyg0ICogMzYwZGVnICsgMzYwZGVnIC8gdmFyKC0tbnVtcykgKiA2KSk7DQogICAgfQ0KICB9DQogIEBrZXlmcmFtZXMgcGxheTcgew0KICAgIHRvIHsNCiAgICAgIHRyYW5zZm9ybTogcm90YXRlKGNhbGMoNCAqIDM2MGRlZyArIDM2MGRlZyAvIHZhcigtLW51bXMpICogNykpOw0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["turnTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"turnTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"zp-box\">\r\n    <div class=\"panzi\">\r\n      <div\r\n        class=\"bck-box\"\r\n        :style=\"` transform: rotate(${-90 + 180 / list.length}deg)`\"\r\n      >\r\n        <div\r\n          class=\"bck\"\r\n          v-for=\"(i, index) in list\"\r\n          :key=\"index\"\r\n          :style=\"`transform: rotate(${(-index * 360) / list.length}deg) skew(${\r\n            -90 + 360 / list.length\r\n          }deg);`\"\r\n        ></div>\r\n      </div>\r\n      <div\r\n        v-for=\"(i, index) in list\"\r\n        :key=\"index\"\r\n        class=\"jiang\"\r\n        :style=\"`transform: rotate(${\r\n          (-index * 360) / list.length\r\n        }deg) translateY(-50px);`\"\r\n      >\r\n        <span v-if=\"!i.img\" class=\"title\">{{ i.info }}</span>\r\n        <img v-if=\"i.img\" :src=\"i.img\" alt=\"\" class=\"img\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"start-btn\" @click=\"start()\">\r\n      <img src=\"../assets/image/start.png\" alt=\"\" class=\"circle\" />\r\n      <img src=\"../assets/image/arrow.png\" alt=\"\" class=\"arrow\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    winner: {\r\n      default: 2,\r\n    },\r\n    specified: {\r\n      default: false,\r\n    },\r\n    // loading: {\r\n    //   default: false,\r\n    // },\r\n    list: {\r\n      default: () => [],\r\n    },\r\n  },\r\n  computed: {\r\n    animationClass() {\r\n      //对应css样式中定义的class属性值,如果有更多的话可以继续添加  case 8:   return 'wr8'\r\n      switch (this.winner) {\r\n        case 1:\r\n          return \"wr0\";\r\n        case 2:\r\n          return \"wr1\";\r\n        case 3:\r\n          return \"wr2\";\r\n        case 4:\r\n          return \"wr3\";\r\n        case 5:\r\n          return \"wr4\";\r\n        case 6:\r\n          return \"wr5\";\r\n        case 7:\r\n          return \"wr6\";\r\n        case 8:\r\n          return \"wr7\";\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, //抽奖执行状态，防止用户多次点击\r\n      panziElement: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    // let root = document.querySelector(\":root\");\r\n    // root.style.setProperty(\"--nums\", this.list.length);\r\n  },\r\n  methods: {\r\n    //开始抽奖\r\n    start() {\r\n      if (!this.loading) {\r\n        this.panziElement = document.querySelector(\".panzi\");\r\n        this.panziElement.classList.remove(this.animationClass);\r\n        this.$emit(\"start\");\r\n        this.loading = true;\r\n      }else{\n        this.loading = false;\n      }\r\n    },\r\n    //中奖返回方法\r\n    winCallback() {\r\n      setTimeout(() => {\r\n        /* 此处是为了解决当下次抽中的奖励与这次相同，动画不重新执行的 */\r\n        /* 添加一个定时器，是为了解决动画属性的替换效果，实现动画的重新执行 */\r\n        this.panziElement.classList.add(this.animationClass);\r\n      }, 0);\r\n      // 因为动画时间为 3s ，所以这里3s后获取结果，其实结果早就定下了，只是何时显示，告诉用户\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n        this.$emit(\"end\");\r\n      }, 3000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@zp_size: 460px; //转盘尺寸\r\n@btn_size: 150px; //抽奖按钮尺寸\r\n@time: 3s; //转动多少秒后停下的时间\r\n.zp-box {\r\n  --nums: 6; // 转盘分几份\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: @zp_size;\r\n  height: @zp_size;\r\n  user-select: none;\r\n  overflow: hidden;\r\n  /* 抽奖按钮 */\r\n  .start-btn {\r\n    position: relative;\r\n    width: @btn_size;\r\n    height: @btn_size;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    .circle {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .arrow {\r\n      position: absolute;\r\n      top: -53px;\r\n      width: 30px;\r\n    }\r\n  }\r\n  /* 盘子样式 */\r\n  .panzi {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    /* 每个奖项的样式 */\r\n    .jiang {\r\n      position: absolute;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      height: 200px;\r\n      padding-bottom: 120px;\r\n      box-sizing: border-box;\r\n      .title {\r\n        color: #ff2b00;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n      }\r\n      .img {\r\n        width: 50px;\r\n        height: 50px;\r\n      }\r\n    }\r\n  }\r\n  .bck-box {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    border-radius: 50%;\r\n    /* 转盘扇形背景 */\r\n    .bck {\r\n      box-sizing: border-box;\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      opacity: 1;\r\n      top: -50%;\r\n      left: 50%;\r\n      transform-origin: 0% 100%;\r\n    }\r\n    /* 转盘背景色 */\r\n    .bck:nth-child(2n) {\r\n      background: #fff;\r\n    }\r\n    .bck:nth-child(2n + 1) {\r\n      background: #ffd7b0;\r\n    }\r\n  }\r\n\r\n  /* 下面的css样式为每个奖品的旋转动画，这里写了对应8个奖品的动画，如果想要更多的话，可以添加 */\r\n  /* 例如： .wr8  @keyframes play8 */\r\n  .wr0,\r\n  .wr1,\r\n  .wr2,\r\n  .wr3,\r\n  .wr4,\r\n  .wr5,\r\n  .wr6,\r\n  .wr7 {\r\n    animation-duration: @time;\r\n    animation-timing-function: ease;\r\n    animation-fill-mode: both;\r\n    animation-iteration-count: 1;\r\n  }\r\n  .wr0 {\r\n    animation-name: play0;\r\n  }\r\n  .wr1 {\r\n    animation-name: play1;\r\n  }\r\n  .wr2 {\r\n    animation-name: play2;\r\n  }\r\n  .wr3 {\r\n    animation-name: play3;\r\n  }\r\n  .wr4 {\r\n    animation-name: play4;\r\n  }\r\n  .wr5 {\r\n    animation-name: play5;\r\n  }\r\n  .wr6 {\r\n    animation-name: play6;\r\n  }\r\n  .wr7 {\r\n    animation-name: play7;\r\n  }\r\n  @keyframes play0 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 0));\r\n    }\r\n  }\r\n  @keyframes play1 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 1));\r\n    }\r\n  }\r\n  @keyframes play2 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 2));\r\n    }\r\n  }\r\n  @keyframes play3 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 3));\r\n    }\r\n  }\r\n  @keyframes play4 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 4));\r\n    }\r\n  }\r\n  @keyframes play5 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 5));\r\n    }\r\n  }\r\n  @keyframes play6 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 6));\r\n    }\r\n  }\r\n  @keyframes play7 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 7));\r\n    }\r\n  }\r\n}\r\n</style>\n"]}]}