{"remainingRequest":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/turn_table/src/views/home.vue?vue&type=style&index=0&id=7eb2bc79&lang=less&scoped=true&","dependencies":[{"path":"/Users/admin/Desktop/turn_table/src/views/home.vue","mtime":1639205531719},{"path":"/Users/admin/Desktop/turn_table/node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKLmhvbWUgewogIHdpZHRoOiAxMDAlOwogIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiLi4vYXNzZXRzL2ltYWdlL2xvbmdfYmcucG5nIik7CiAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDsKICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwp9CgoudG9wIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMTAwcHg7CgogIC50aXRsZSB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICBsZWZ0OiA1MCU7CiAgICB0b3A6IDIwMHB4OwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7CiAgICBjb2xvcjogI2ZkZWNiZTsKICAgIGZvbnQtc2l6ZTogODBweDsKICAgIHdoaXRlLXNwYWNlOiBub3dyYXA7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIHRleHQtc2hhZG93OiAtNXB4IDVweCAjZjM4NzExOyAvL+W3puS4i+inkumYtOW9sQogIH0KCiAgLnJ1bGUtYnRuIHsKICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgIHJpZ2h0OiAtMTBweDsKICAgIHRvcDogODRweDsKICAgIHRyYW5zZm9ybTogc2NhbGUoMC44NSk7CiAgICB3aWR0aDogMTQ0cHg7CiAgICBoZWlnaHQ6IDUwcHg7CiAgICBsaW5lLWhlaWdodDogNTBweDsKICAgIGNvbG9yOiAjZTEwZjM5OwogICAgZm9udC1zaXplOiAxMnB4OwogICAgZm9udC13ZWlnaHQ6IGJvbGQ7CiAgICBwYWRkaW5nOiAwIDEwcHggMCAyMHB4OwogICAgYm94LXNpemluZzogYm9yZGVyLWJveDsKICAgIHRleHQtYWxpZ246IGNlbnRlcjsKICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDQwcHg7CiAgICBib3JkZXItYm90dG9tLWxlZnQtcmFkaXVzOiA0MHB4OwogICAgYmFja2dyb3VuZDogbGluZWFyLWdyYWRpZW50KHRvIGJvdHRvbSwgI2VjZDY5MiwgI2ZiYzI0ZSk7CiAgfQoKICAudGFibGUtYmxvY2sgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA0ODhweDsKICAgIGxlZnQ6IDUwJTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApOwogICAgd2lkdGg6IDUyOHB4OwogICAgaGVpZ2h0OiA1MjhweDsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiLi4vYXNzZXRzL2ltYWdlL3R1cm5fdGFibGUucG5nIik7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjsKICB9CgogIC5zdWRva3UtYmxvY2sgewogICAgcG9zaXRpb246IGFic29sdXRlOwogICAgdG9wOiA0ODhweDsKICAgIGxlZnQ6IDUwJTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApOwogICAgd2lkdGg6IDUyOHB4OwogICAgaGVpZ2h0OiA1MjhweDsKICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgiLi4vYXNzZXRzL2ltYWdlL3N1ZG9rdV9iZy5wbmciKTsKICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgICBiYWNrZ3JvdW5kLXNpemU6IGNvdmVyOwogICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOwogIH0KCiAgLmVnZy1ibG9jayB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDQ4OHB4OwogICAgbGVmdDogNTAlOwogICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgMCk7CiAgICB3aWR0aDogNjUwcHg7CiAgICBoZWlnaHQ6IDM2MHB4OwogICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCIuLi9hc3NldHMvaW1hZ2UvYmFjay5wbmciKTsKICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgICBiYWNrZ3JvdW5kLXNpemU6IDEwMCU7CiAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBib3R0b207CiAgfQp9CgouYm90dG9tIHsKICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgd2lkdGg6IDEwMCU7CiAgcGFkZGluZzogMTUwcHggNTBweCA2MHB4IDUwcHg7CiAgYm94LXNpemluZzogYm9yZGVyLWJveDsKCiAgLnByaXplLWJ0biB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICB0b3A6IDBweDsKICAgIGxlZnQ6IDUwJTsKICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlKC01MCUsIDApOwogICAgd2lkdGg6IDI0OHB4OwogICAgaGVpZ2h0OiA1N3B4OwogICAgbGluZS1oZWlnaHQ6IDU3cHg7CiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICBib3JkZXItcmFkaXVzOiAyOHB4OwogICAgY29sb3I6ICNhNDZhMGU7CiAgICBmb250LXNpemU6IDMwcHg7CiAgICBmb250LXdlaWdodDogYm9sZDsKICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCh0byBib3R0b20sICNmOWVlYjcsICNlYmI3NmEpOwogIH0KCiAgLmNvbXBhbnktcHJvZmlsZSB7CiAgICBwb3NpdGlvbjogcmVsYXRpdmU7CiAgICB3aWR0aDogMTAwJTsKICAgIHBhZGRpbmc6IDUwcHggNTZweCA3MHB4IDU2cHg7CiAgICBib3gtc2l6aW5nOiBib3JkZXItYm94OwogICAgYmFja2dyb3VuZC1jb2xvcjogI2ZlZWFkZjsKICAgIGJvcmRlci1yYWRpdXM6IDE2cHg7CiAgICBib3JkZXI6IDEwcHggc29saWQgI2ZmYTI2NzsKCiAgICAuY29tcGFueS10aXRsZSB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgbGVmdDogNTAlOwogICAgICB0b3A6IC0zMnB4OwogICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAwKTsKICAgICAgd2lkdGg6IDQwMHB4OwogICAgfQoKICAgIC52aWRlby1ibG9jayB7CiAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgICAgd2lkdGg6IDEwMCU7CiAgICAgIGhlaWdodDogMjk0cHg7CgogICAgICB2aWRlbyB7CiAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgaGVpZ2h0OiAxMDAlOwogICAgICB9CiAgICB9CgogICAgLnByb2ZpbGUgewogICAgICBjb2xvcjogIzg2MjcwNTsKICAgICAgZm9udC1zaXplOiAyNHB4OwogICAgICBmb250LXdlaWdodDogYm9sZDsKICAgICAgbGluZS1oZWlnaHQ6IDM2cHg7CiAgICAgIG1hcmdpbi10b3A6IDI2cHg7CiAgICB9CiAgfQoKICAuY29ubmVjdC1saW5lIHsKICAgIHBvc2l0aW9uOiByZWxhdGl2ZTsKICAgIHdpZHRoOiAxMDAlOwogICAgaGVpZ2h0OiA0MHB4OwoKICAgIC5jaXJjbGUtbGVmdC10b3AgewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIGxlZnQ6IDM2cHg7CiAgICAgIHRvcDogLTUwcHg7CiAgICAgIHdpZHRoOiAxNHB4OwogICAgICBoZWlnaHQ6IDE0cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgYm9yZGVyOiA4cHggc29saWQgI2ZmYTI2NzsKICAgIH0KCiAgICAuY2lyY2xlLXJpZ2h0LXRvcCB7CiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTsKICAgICAgcmlnaHQ6IDM2cHg7CiAgICAgIHRvcDogLTUwcHg7CiAgICAgIHdpZHRoOiAxNHB4OwogICAgICBoZWlnaHQ6IDE0cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgYm9yZGVyOiA4cHggc29saWQgI2ZmYTI2NzsKICAgIH0KCiAgICAubGluZS1sZWZ0IHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBsZWZ0OiA0M3B4OwogICAgICB0b3A6IC00MnB4OwogICAgICB6LWluZGV4OiAyOwogICAgICB3aWR0aDogMTZweDsKICAgICAgaGVpZ2h0OiAxMjRweDsKICAgICAgYm9yZGVyLXJhZGl1czogOHB4OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmU1NDMxOwogICAgfQoKICAgIC5saW5lLXJpZ2h0IHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICByaWdodDogNDNweDsKICAgICAgdG9wOiAtNDJweDsKICAgICAgei1pbmRleDogMjsKICAgICAgd2lkdGg6IDE2cHg7CiAgICAgIGhlaWdodDogMTI0cHg7CiAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZlNTQzMTsKICAgIH0KCiAgICAuY2lyY2xlLWxlZnQtYm90dG9tIHsKICAgICAgcG9zaXRpb246IGFic29sdXRlOwogICAgICBsZWZ0OiAzNnB4OwogICAgICBib3R0b206IC01MHB4OwogICAgICB3aWR0aDogMTRweDsKICAgICAgaGVpZ2h0OiAxNHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIGJvcmRlcjogOHB4IHNvbGlkICNmZmEyNjc7CiAgICB9CgogICAgLmNpcmNsZS1yaWdodC1ib3R0b20gewogICAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICAgIHJpZ2h0OiAzNnB4OwogICAgICBib3R0b206IC01MHB4OwogICAgICB3aWR0aDogMTRweDsKICAgICAgaGVpZ2h0OiAxNHB4OwogICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgIGJvcmRlcjogOHB4IHNvbGlkICNmZmEyNjc7CiAgICB9CiAgfQoKICAuY29tcGFueS1wcm9maWxlLWltYWdlIHsKICAgIHdpZHRoOiAxMDAlOwogICAgcGFkZGluZzogODBweCA1NnB4IDAgNTZweDsKICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZmVlYWRmOwogICAgYm9yZGVyLXJhZGl1czogMTZweDsKICAgIGJvcmRlcjogMTBweCBzb2xpZCAjZmZhMjY3OwoKICAgIC5pbWFnZSB7CiAgICAgIHdpZHRoOiAxMDAlOwogICAgICBoZWlnaHQ6IDI5NHB4OwogICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjY2NjOwogICAgICBtYXJnaW4tYm90dG9tOiA3NnB4OwogICAgfQogIH0KfQo="},{"version":3,"sources":["home.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6LA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"home.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n  <div class=\"home\">\r\n    <div class=\"top\">\r\n      <!--       <div class=\"rule-btn\" @click=\"showPopupRule\">活动规则</div>-->\r\n      <div class=\"title\">{{ activityInfo.title }}</div>\r\n      <div class=\"table-block\" v-if=\"type == 1\">\r\n        <turn-table ref=\"turnTable\" :winner=\"winner\" :specified=\"specified\" :loading=\"loading\" :list=\"list\"\r\n          @start=\"start\" @end=\"end\"></turn-table>\r\n      </div>\r\n      <div class=\"sudoku-block\" v-if=\"type == 2\">\r\n        <sudoku-table ref=\"sudokuTable\" :list=\"list\" :loading=\"loading\" :winner=\"winner\" :specified=\"specified\"\r\n          @start=\"start\" @end=\"end\"></sudoku-table>\r\n      </div>\r\n      <div class=\"egg-block\" v-if=\"type == 3\">\r\n        <egg-table ref=\"eggTable\" :list=\"list\" :winner=\"winner\" :specified=\"specified\" :loading=\"loading\"  @start=\"start\"\r\n          @end=\"end\"></egg-table>\r\n      </div>\r\n    </div>\r\n    <!-- 下半部分 -->\r\n    <div class=\"bottom\">\r\n      <div class=\"prize-btn\" @click=\"toPrize()\">我的奖品</div>\r\n      <!-- company-profile -->\r\n      <div class=\"company-profile\">\r\n        <img src=\"../assets/image/company.png\" alt=\"\" class=\"company-title\" />\r\n        <div class=\"video-block\">\r\n          <video ref=\"video\" :src=\"activityInfo.activityvideo\" controls loop></video>\r\n        </div>\r\n        <div class=\"profile\">\r\n          {{ activityInfo.companyprofile }}\r\n        </div>\r\n      </div>\r\n      <!-- 连线 -->\r\n      <div v-if=\"activityInfo.activityimg && activityInfo.activityimg.length\" class=\"connect-line\">\r\n        <div class=\"circle-left-top\"></div>\r\n        <div class=\"line-left\"></div>\r\n        <div class=\"circle-left-bottom\"></div>\r\n        <div class=\"circle-right-top\"></div>\r\n        <div class=\"line-right\"></div>\r\n        <div class=\"circle-right-bottom\"></div>\r\n      </div>\r\n      <!-- company-profile-image -->\r\n      <div v-if=\"activityInfo.activityimg && activityInfo.activityimg.length\" class=\"company-profile-image\">\r\n        <img v-for=\"(item, index) in activityInfo.activityimg\" :key=\"index\" :src=\"item\" alt=\"\" class=\"image\" />\r\n      </div>\r\n    </div>\r\n    <popup-rule :show.sync=\"showRule\"></popup-rule>\r\n    <popup-result :show.sync=\"showResult\" :result=\"result\"></popup-result>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import GL from \"@/utils/random.js\";\r\n  import turnTable from \"@/components/turnTable.vue\";\r\n  import sudokuTable from \"@/components/sudokuTable.vue\";\r\n  import eggTable from \"@/components/eggTable.vue\";\r\n  import popupRule from \"@/components/popupRule.vue\";\r\n  import popupResult from \"@/components/popupResult.vue\";\r\n  // import newdata from \"http://dspapi.appletcloud.net/turntable/userinfo.js\"\r\n  export default {\r\n    components: {\r\n      turnTable,\r\n      popupRule,\r\n      popupResult,\r\n      sudokuTable,\r\n      eggTable\r\n    },\r\n    data() {\r\n      return {\r\n        winner: 1, //指定获奖下标 specified为true时生效\r\n        specified: false, //是否指定获奖结果，false时为随机\r\n        loading: false, //抽奖执行状态，防止用户多次点击\r\n        panziElement: null,\r\n        list: [],\r\n        showRule: false,\r\n        showResult: false,\r\n        result: {},\r\n        activityInfo: {},\r\n        token: '8e1408d3761b52526d18df2f36fb3533',\r\n        query: {\r\n          uid: \"18a1aauc9\",\r\n          openid: \"yKtsOt2SUCNX3RJ6SUQQfKlGUv2i7jZJMh7jcFg5TwvmczBTh6FKWV3yy+Q\",\r\n          activityid: \"d5721049\",\r\n          username: \"1231123\",\r\n        },\r\n        isPlay: false,\r\n        type: 2,\r\n        isComplete: false\r\n      };\r\n    },\r\n    mounted() {\r\n      //    http://192.168.0.203:8080/table/?uid=xxx&openid=xxx&activityid=xxx\r\n      console.log(this.$route.query)\r\n      this.token = this.$route.query.token\r\n      this.datanew()\r\n    },\r\n    methods: {\r\n      async getDetails() {\r\n        let res = await this.$api.getDetails({\r\n          uid: this.query.uid,\r\n          activityid: this.query.activityid,\r\n        });\r\n        this.list = res.data.activity;\r\n        this.activityInfo = res.data;\r\n        this.type = res.data.type;\r\n        console.log(res.data, \"ddd\");\r\n      },\r\n      async datanew() {\r\n        let res = await this.$api.getUserInfo({\r\n          token: this.token,\r\n        });\r\n        if (res.code == 0) {\r\n          // var newdata = JSON.parse(res.data)\r\n          this.query.activityid = res.data.activityid\r\n          this.query.openid = res.data.openid\r\n          this.query.uid = res.data.uid\r\n          this.query.username = res.data.username\r\n          this.getDetails();\r\n        }\r\n      },\r\n      showPopupRule() {\r\n        this.showRule = true;\r\n      },\r\n      toPrize() {\r\n        this.$router.push({\r\n          path: \"/prize\",\r\n          query: this.query,\r\n        });\r\n      },\r\n      // 开始抽奖\r\n      async start() {\r\n        // 验证抽奖次数\r\n        let res = await this.$api.checkPrizeCount({\r\n          openid: this.query.openid,\r\n          // username: this.activityInfo.username,\r\n          activityid: this.query.activityid,\r\n        });\r\n        let ranArr = [];\r\n        ranArr = [];\r\n        this.list.map((item, index) => {\r\n          return index % 2 == 0 ? ranArr.push([1, 0.99]) : ranArr.push([1, 0.01])\r\n        })\r\n        console.log(res);\r\n        if (res.code == 200) {\r\n          let gl = new GL({\r\n            min: 1,\r\n            max: this.list.length + 1,\r\n            fenpei: new Map(ranArr),\r\n          });\r\n          this.loading = true;\r\n          this.winner = gl.random();\r\n          if (this.type === 1) {\r\n            this.$refs.turnTable.winCallback();\r\n          } else if (this.type === 2) {\r\n            this.$refs.sudokuTable.move();\r\n          }\r\n        } else {\r\n          this.loading = false;\r\n          this.$toast({\r\n            message: res.msg,\r\n          });\r\n        }\r\n      },\r\n      async end() {\r\n        this.result = this.list[this.winner - 1];\r\n        // 展示结果弹窗\r\n        this.showResult = true;\r\n        console.log(this.result, \"result\");\r\n        // 发送中奖结果 result.status==1 代表中奖\r\n        let res = await this.$api.sendResult({\r\n          uid: this.query.uid,\r\n          openid: this.query.openid,\r\n          username: this.query.username,\r\n          activityid: this.query.activityid,\r\n          lottery: this.result.info,\r\n        });\r\n        // if (this.result.status) {\r\n        //     let res = await this.$api.sendResult({\r\n        //         uid: this.query.uid,\r\n        //         openid: this.query.openid,\r\n        //         username: this.query.username,\r\n        //         activityid: this.query.activityid,\r\n        //         lottery: this.result.info,\r\n        //     });\r\n        // }\r\n      },\r\n    },\r\n  };\r\n</script>\r\n<style lang=\"less\" scoped>\r\n  .home {\r\n    width: 100%;\r\n    background-image: url(\"../assets/image/long_bg.png\");\r\n    background-repeat: no-repeat;\r\n    background-size: cover;\r\n  }\r\n\r\n  .top {\r\n    position: relative;\r\n    width: 100%;\r\n    height: 1100px;\r\n\r\n    .title {\r\n      position: absolute;\r\n      left: 50%;\r\n      top: 200px;\r\n      transform: translate(-50%, 0);\r\n      color: #fdecbe;\r\n      font-size: 80px;\r\n      white-space: nowrap;\r\n      font-weight: bold;\r\n      text-shadow: -5px 5px #f38711; //左下角阴影\r\n    }\r\n\r\n    .rule-btn {\r\n      position: absolute;\r\n      right: -10px;\r\n      top: 84px;\r\n      transform: scale(0.85);\r\n      width: 144px;\r\n      height: 50px;\r\n      line-height: 50px;\r\n      color: #e10f39;\r\n      font-size: 12px;\r\n      font-weight: bold;\r\n      padding: 0 10px 0 20px;\r\n      box-sizing: border-box;\r\n      text-align: center;\r\n      border-top-left-radius: 40px;\r\n      border-bottom-left-radius: 40px;\r\n      background: linear-gradient(to bottom, #ecd692, #fbc24e);\r\n    }\r\n\r\n    .table-block {\r\n      position: absolute;\r\n      top: 488px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      width: 528px;\r\n      height: 528px;\r\n      background-image: url(\"../assets/image/turn_table.png\");\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n      background-position: center;\r\n    }\r\n\r\n    .sudoku-block {\r\n      position: absolute;\r\n      top: 488px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      width: 528px;\r\n      height: 528px;\r\n      background-image: url(\"../assets/image/sudoku_bg.png\");\r\n      background-repeat: no-repeat;\r\n      background-size: cover;\r\n      background-position: center;\r\n    }\r\n\r\n    .egg-block {\r\n      position: absolute;\r\n      top: 488px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      width: 650px;\r\n      height: 360px;\r\n      background-image: url(\"../assets/image/back.png\");\r\n      background-repeat: no-repeat;\r\n      background-size: 100%;\r\n      background-position: bottom;\r\n    }\r\n  }\r\n\r\n  .bottom {\r\n    position: relative;\r\n    width: 100%;\r\n    padding: 150px 50px 60px 50px;\r\n    box-sizing: border-box;\r\n\r\n    .prize-btn {\r\n      position: absolute;\r\n      top: 0px;\r\n      left: 50%;\r\n      transform: translate(-50%, 0);\r\n      width: 248px;\r\n      height: 57px;\r\n      line-height: 57px;\r\n      text-align: center;\r\n      border-radius: 28px;\r\n      color: #a46a0e;\r\n      font-size: 30px;\r\n      font-weight: bold;\r\n      background: linear-gradient(to bottom, #f9eeb7, #ebb76a);\r\n    }\r\n\r\n    .company-profile {\r\n      position: relative;\r\n      width: 100%;\r\n      padding: 50px 56px 70px 56px;\r\n      box-sizing: border-box;\r\n      background-color: #feeadf;\r\n      border-radius: 16px;\r\n      border: 10px solid #ffa267;\r\n\r\n      .company-title {\r\n        position: absolute;\r\n        left: 50%;\r\n        top: -32px;\r\n        transform: translate(-50%, 0);\r\n        width: 400px;\r\n      }\r\n\r\n      .video-block {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 294px;\r\n\r\n        video {\r\n          width: 100%;\r\n          height: 100%;\r\n        }\r\n      }\r\n\r\n      .profile {\r\n        color: #862705;\r\n        font-size: 24px;\r\n        font-weight: bold;\r\n        line-height: 36px;\r\n        margin-top: 26px;\r\n      }\r\n    }\r\n\r\n    .connect-line {\r\n      position: relative;\r\n      width: 100%;\r\n      height: 40px;\r\n\r\n      .circle-left-top {\r\n        position: absolute;\r\n        left: 36px;\r\n        top: -50px;\r\n        width: 14px;\r\n        height: 14px;\r\n        border-radius: 50%;\r\n        border: 8px solid #ffa267;\r\n      }\r\n\r\n      .circle-right-top {\r\n        position: absolute;\r\n        right: 36px;\r\n        top: -50px;\r\n        width: 14px;\r\n        height: 14px;\r\n        border-radius: 50%;\r\n        border: 8px solid #ffa267;\r\n      }\r\n\r\n      .line-left {\r\n        position: absolute;\r\n        left: 43px;\r\n        top: -42px;\r\n        z-index: 2;\r\n        width: 16px;\r\n        height: 124px;\r\n        border-radius: 8px;\r\n        background-color: #fe5431;\r\n      }\r\n\r\n      .line-right {\r\n        position: absolute;\r\n        right: 43px;\r\n        top: -42px;\r\n        z-index: 2;\r\n        width: 16px;\r\n        height: 124px;\r\n        border-radius: 8px;\r\n        background-color: #fe5431;\r\n      }\r\n\r\n      .circle-left-bottom {\r\n        position: absolute;\r\n        left: 36px;\r\n        bottom: -50px;\r\n        width: 14px;\r\n        height: 14px;\r\n        border-radius: 50%;\r\n        border: 8px solid #ffa267;\r\n      }\r\n\r\n      .circle-right-bottom {\r\n        position: absolute;\r\n        right: 36px;\r\n        bottom: -50px;\r\n        width: 14px;\r\n        height: 14px;\r\n        border-radius: 50%;\r\n        border: 8px solid #ffa267;\r\n      }\r\n    }\r\n\r\n    .company-profile-image {\r\n      width: 100%;\r\n      padding: 80px 56px 0 56px;\r\n      box-sizing: border-box;\r\n      background-color: #feeadf;\r\n      border-radius: 16px;\r\n      border: 10px solid #ffa267;\r\n\r\n      .image {\r\n        width: 100%;\r\n        height: 294px;\r\n        background-color: #ccc;\r\n        margin-bottom: 76px;\r\n      }\r\n    }\r\n  }\r\n</style>\n"]}]}