{"remainingRequest":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/turn_table/src/components/turnTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/turn_table/src/components/turnTable.vue","mtime":1638500399031},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgd2lubmVyOiB7DQogICAgICBkZWZhdWx0OiAyLA0KICAgIH0sDQogICAgc3BlY2lmaWVkOiB7DQogICAgICBkZWZhdWx0OiBmYWxzZSwNCiAgICB9LA0KICAgIC8vIGxvYWRpbmc6IHsNCiAgICAvLyAgIGRlZmF1bHQ6IGZhbHNlLA0KICAgIC8vIH0sDQogICAgbGlzdDogew0KICAgICAgZGVmYXVsdDogKCkgPT4gW10sDQogICAgfSwNCiAgfSwNCiAgY29tcHV0ZWQ6IHsNCiAgICBhbmltYXRpb25DbGFzcygpIHsNCiAgICAgIC8v5a+55bqUY3Nz5qC35byP5Lit5a6a5LmJ55qEY2xhc3PlsZ7mgKflgLws5aaC5p6c5pyJ5pu05aSa55qE6K+d5Y+v5Lul57un57ut5re75YqgICBjYXNlIDg6ICAgcmV0dXJuICd3cjgnDQogICAgICBzd2l0Y2ggKHRoaXMud2lubmVyKSB7DQogICAgICAgIGNhc2UgMToNCiAgICAgICAgICByZXR1cm4gIndyMCI7DQogICAgICAgIGNhc2UgMjoNCiAgICAgICAgICByZXR1cm4gIndyMSI7DQogICAgICAgIGNhc2UgMzoNCiAgICAgICAgICByZXR1cm4gIndyMiI7DQogICAgICAgIGNhc2UgNDoNCiAgICAgICAgICByZXR1cm4gIndyMyI7DQogICAgICAgIGNhc2UgNToNCiAgICAgICAgICByZXR1cm4gIndyNCI7DQogICAgICAgIGNhc2UgNjoNCiAgICAgICAgICByZXR1cm4gIndyNSI7DQogICAgICAgIGNhc2UgNzoNCiAgICAgICAgICByZXR1cm4gIndyNiI7DQogICAgICAgIGNhc2UgODoNCiAgICAgICAgICByZXR1cm4gIndyNyI7DQogICAgICB9DQogICAgfSwNCiAgfSwNCiAgZGF0YSgpIHsNCiAgICByZXR1cm4gew0KICAgICAgbG9hZGluZzogZmFsc2UsIC8v5oq95aWW5omn6KGM54q25oCB77yM6Ziy5q2i55So5oi35aSa5qyh54K55Ye7DQogICAgICBwYW56aUVsZW1lbnQ6IG51bGwsDQogICAgfTsNCiAgfSwNCiAgbW91bnRlZCgpIHsNCiAgICAvLyBsZXQgcm9vdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIjpyb290Iik7DQogICAgLy8gcm9vdC5zdHlsZS5zZXRQcm9wZXJ0eSgiLS1udW1zIiwgdGhpcy5saXN0Lmxlbmd0aCk7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICAvL+W8gOWni+aKveWllg0KICAgIHN0YXJ0KCkgew0KICAgICAgaWYgKCF0aGlzLmxvYWRpbmcpIHsNCiAgICAgICAgdGhpcy5wYW56aUVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIucGFuemkiKTsNCiAgICAgICAgdGhpcy5wYW56aUVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmFuaW1hdGlvbkNsYXNzKTsNCiAgICAgICAgdGhpcy4kZW1pdCgic3RhcnQiKTsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsNCiAgICAgIH1lbHNlewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9DQogICAgfSwNCiAgICAvL+S4reWllui/lOWbnuaWueazlQ0KICAgIHdpbkNhbGxiYWNrKCkgew0KICAgICAgc2V0VGltZW91dCgoKSA9PiB7DQogICAgICAgIC8qIOatpOWkhOaYr+S4uuS6huino+WGs+W9k+S4i+asoeaKveS4reeahOWlluWKseS4jui/measoeebuOWQjO+8jOWKqOeUu+S4jemHjeaWsOaJp+ihjOeahCAqLw0KICAgICAgICAvKiDmt7vliqDkuIDkuKrlrprml7blmajvvIzmmK/kuLrkuobop6PlhrPliqjnlLvlsZ7mgKfnmoTmm7/mjaLmlYjmnpzvvIzlrp7njrDliqjnlLvnmoTph43mlrDmiafooYwgKi8NCiAgICAgICAgdGhpcy5wYW56aUVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmFuaW1hdGlvbkNsYXNzKTsNCiAgICAgIH0sIDApOw0KICAgICAgLy8g5Zug5Li65Yqo55S75pe26Ze05Li6IDNzIO+8jOaJgOS7pei/memHjDNz5ZCO6I635Y+W57uT5p6c77yM5YW25a6e57uT5p6c5pep5bCx5a6a5LiL5LqG77yM5Y+q5piv5L2V5pe25pi+56S677yM5ZGK6K+J55So5oi3DQogICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7DQogICAgICAgIHRoaXMuJGVtaXQoImVuZCIpOw0KICAgICAgfSwgMzAwMCk7DQogICAgfSwNCiAgfSwNCn07DQo="},{"version":3,"sources":["turnTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"turnTable.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <div class=\"zp-box\">\r\n    <div class=\"panzi\">\r\n      <div\r\n        class=\"bck-box\"\r\n        :style=\"` transform: rotate(${-90 + 180 / list.length}deg)`\"\r\n      >\r\n        <div\r\n          class=\"bck\"\r\n          v-for=\"(i, index) in list\"\r\n          :key=\"index\"\r\n          :style=\"`transform: rotate(${(-index * 360) / list.length}deg) skew(${\r\n            -90 + 360 / list.length\r\n          }deg);`\"\r\n        ></div>\r\n      </div>\r\n      <div\r\n        v-for=\"(i, index) in list\"\r\n        :key=\"index\"\r\n        class=\"jiang\"\r\n        :style=\"`transform: rotate(${\r\n          (-index * 360) / list.length\r\n        }deg) translateY(-50px);`\"\r\n      >\r\n        <span v-if=\"!i.img\" class=\"title\">{{ i.info }}</span>\r\n        <img v-if=\"i.img\" :src=\"i.img\" alt=\"\" class=\"img\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"start-btn\" @click=\"start()\">\r\n      <img src=\"../assets/image/start.png\" alt=\"\" class=\"circle\" />\r\n      <img src=\"../assets/image/arrow.png\" alt=\"\" class=\"arrow\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    winner: {\r\n      default: 2,\r\n    },\r\n    specified: {\r\n      default: false,\r\n    },\r\n    // loading: {\r\n    //   default: false,\r\n    // },\r\n    list: {\r\n      default: () => [],\r\n    },\r\n  },\r\n  computed: {\r\n    animationClass() {\r\n      //对应css样式中定义的class属性值,如果有更多的话可以继续添加  case 8:   return 'wr8'\r\n      switch (this.winner) {\r\n        case 1:\r\n          return \"wr0\";\r\n        case 2:\r\n          return \"wr1\";\r\n        case 3:\r\n          return \"wr2\";\r\n        case 4:\r\n          return \"wr3\";\r\n        case 5:\r\n          return \"wr4\";\r\n        case 6:\r\n          return \"wr5\";\r\n        case 7:\r\n          return \"wr6\";\r\n        case 8:\r\n          return \"wr7\";\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, //抽奖执行状态，防止用户多次点击\r\n      panziElement: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    // let root = document.querySelector(\":root\");\r\n    // root.style.setProperty(\"--nums\", this.list.length);\r\n  },\r\n  methods: {\r\n    //开始抽奖\r\n    start() {\r\n      if (!this.loading) {\r\n        this.panziElement = document.querySelector(\".panzi\");\r\n        this.panziElement.classList.remove(this.animationClass);\r\n        this.$emit(\"start\");\r\n        this.loading = true;\r\n      }else{\n        this.loading = false;\n      }\r\n    },\r\n    //中奖返回方法\r\n    winCallback() {\r\n      setTimeout(() => {\r\n        /* 此处是为了解决当下次抽中的奖励与这次相同，动画不重新执行的 */\r\n        /* 添加一个定时器，是为了解决动画属性的替换效果，实现动画的重新执行 */\r\n        this.panziElement.classList.add(this.animationClass);\r\n      }, 0);\r\n      // 因为动画时间为 3s ，所以这里3s后获取结果，其实结果早就定下了，只是何时显示，告诉用户\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n        this.$emit(\"end\");\r\n      }, 3000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@zp_size: 460px; //转盘尺寸\r\n@btn_size: 150px; //抽奖按钮尺寸\r\n@time: 3s; //转动多少秒后停下的时间\r\n.zp-box {\r\n  --nums: 6; // 转盘分几份\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: @zp_size;\r\n  height: @zp_size;\r\n  user-select: none;\r\n  overflow: hidden;\r\n  /* 抽奖按钮 */\r\n  .start-btn {\r\n    position: relative;\r\n    width: @btn_size;\r\n    height: @btn_size;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    .circle {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .arrow {\r\n      position: absolute;\r\n      top: -53px;\r\n      width: 30px;\r\n    }\r\n  }\r\n  /* 盘子样式 */\r\n  .panzi {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    /* 每个奖项的样式 */\r\n    .jiang {\r\n      position: absolute;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      height: 200px;\r\n      padding-bottom: 120px;\r\n      box-sizing: border-box;\r\n      .title {\r\n        color: #ff2b00;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n      }\r\n      .img {\r\n        width: 50px;\r\n        height: 50px;\r\n      }\r\n    }\r\n  }\r\n  .bck-box {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    border-radius: 50%;\r\n    /* 转盘扇形背景 */\r\n    .bck {\r\n      box-sizing: border-box;\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      opacity: 1;\r\n      top: -50%;\r\n      left: 50%;\r\n      transform-origin: 0% 100%;\r\n    }\r\n    /* 转盘背景色 */\r\n    .bck:nth-child(2n) {\r\n      background: #fff;\r\n    }\r\n    .bck:nth-child(2n + 1) {\r\n      background: #ffd7b0;\r\n    }\r\n  }\r\n\r\n  /* 下面的css样式为每个奖品的旋转动画，这里写了对应8个奖品的动画，如果想要更多的话，可以添加 */\r\n  /* 例如： .wr8  @keyframes play8 */\r\n  .wr0,\r\n  .wr1,\r\n  .wr2,\r\n  .wr3,\r\n  .wr4,\r\n  .wr5,\r\n  .wr6,\r\n  .wr7 {\r\n    animation-duration: @time;\r\n    animation-timing-function: ease;\r\n    animation-fill-mode: both;\r\n    animation-iteration-count: 1;\r\n  }\r\n  .wr0 {\r\n    animation-name: play0;\r\n  }\r\n  .wr1 {\r\n    animation-name: play1;\r\n  }\r\n  .wr2 {\r\n    animation-name: play2;\r\n  }\r\n  .wr3 {\r\n    animation-name: play3;\r\n  }\r\n  .wr4 {\r\n    animation-name: play4;\r\n  }\r\n  .wr5 {\r\n    animation-name: play5;\r\n  }\r\n  .wr6 {\r\n    animation-name: play6;\r\n  }\r\n  .wr7 {\r\n    animation-name: play7;\r\n  }\r\n  @keyframes play0 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 0));\r\n    }\r\n  }\r\n  @keyframes play1 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 1));\r\n    }\r\n  }\r\n  @keyframes play2 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 2));\r\n    }\r\n  }\r\n  @keyframes play3 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 3));\r\n    }\r\n  }\r\n  @keyframes play4 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 4));\r\n    }\r\n  }\r\n  @keyframes play5 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 5));\r\n    }\r\n  }\r\n  @keyframes play6 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 6));\r\n    }\r\n  }\r\n  @keyframes play7 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 7));\r\n    }\r\n  }\r\n}\r\n</style>\n"]}]}