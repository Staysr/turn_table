{"remainingRequest":"/Users/admin/Desktop/turn_table/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--1-0!/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js??vue-loader-options!/Users/admin/Desktop/turn_table/src/components/turnTable.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/admin/Desktop/turn_table/src/components/turnTable.vue","mtime":1638500399031},{"path":"/Users/admin/Desktop/turn_table/babel.config.js","mtime":1631839896000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_vue-loader@15.9.8@vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIHByb3BzOiB7CiAgICB3aW5uZXI6IHsKICAgICAgZGVmYXVsdDogMgogICAgfSwKICAgIHNwZWNpZmllZDogewogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIGxvYWRpbmc6IHsKICAgIC8vICAgZGVmYXVsdDogZmFsc2UsCiAgICAvLyB9LAogICAgbGlzdDogewogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4gW107CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBhbmltYXRpb25DbGFzczogZnVuY3Rpb24gYW5pbWF0aW9uQ2xhc3MoKSB7CiAgICAgIC8v5a+55bqUY3Nz5qC35byP5Lit5a6a5LmJ55qEY2xhc3PlsZ7mgKflgLws5aaC5p6c5pyJ5pu05aSa55qE6K+d5Y+v5Lul57un57ut5re75YqgICBjYXNlIDg6ICAgcmV0dXJuICd3cjgnCiAgICAgIHN3aXRjaCAodGhpcy53aW5uZXIpIHsKICAgICAgICBjYXNlIDE6CiAgICAgICAgICByZXR1cm4gIndyMCI7CgogICAgICAgIGNhc2UgMjoKICAgICAgICAgIHJldHVybiAid3IxIjsKCiAgICAgICAgY2FzZSAzOgogICAgICAgICAgcmV0dXJuICJ3cjIiOwoKICAgICAgICBjYXNlIDQ6CiAgICAgICAgICByZXR1cm4gIndyMyI7CgogICAgICAgIGNhc2UgNToKICAgICAgICAgIHJldHVybiAid3I0IjsKCiAgICAgICAgY2FzZSA2OgogICAgICAgICAgcmV0dXJuICJ3cjUiOwoKICAgICAgICBjYXNlIDc6CiAgICAgICAgICByZXR1cm4gIndyNiI7CgogICAgICAgIGNhc2UgODoKICAgICAgICAgIHJldHVybiAid3I3IjsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvL+aKveWlluaJp+ihjOeKtuaAge+8jOmYsuatoueUqOaIt+WkmuasoeeCueWHuwogICAgICBwYW56aUVsZW1lbnQ6IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgey8vIGxldCByb290ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiOnJvb3QiKTsKICAgIC8vIHJvb3Quc3R5bGUuc2V0UHJvcGVydHkoIi0tbnVtcyIsIHRoaXMubGlzdC5sZW5ndGgpOwogIH0sCiAgbWV0aG9kczogewogICAgLy/lvIDlp4vmir3lpZYKICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgaWYgKCF0aGlzLmxvYWRpbmcpIHsKICAgICAgICB0aGlzLnBhbnppRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIi5wYW56aSIpOwogICAgICAgIHRoaXMucGFuemlFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5hbmltYXRpb25DbGFzcyk7CiAgICAgICAgdGhpcy4kZW1pdCgic3RhcnQiKTsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9CiAgICB9LAogICAgLy/kuK3lpZbov5Tlm57mlrnms5UKICAgIHdpbkNhbGxiYWNrOiBmdW5jdGlvbiB3aW5DYWxsYmFjaygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIC8qIOatpOWkhOaYr+S4uuS6huino+WGs+W9k+S4i+asoeaKveS4reeahOWlluWKseS4jui/measoeebuOWQjO+8jOWKqOeUu+S4jemHjeaWsOaJp+ihjOeahCAqLwoKICAgICAgICAvKiDmt7vliqDkuIDkuKrlrprml7blmajvvIzmmK/kuLrkuobop6PlhrPliqjnlLvlsZ7mgKfnmoTmm7/mjaLmlYjmnpzvvIzlrp7njrDliqjnlLvnmoTph43mlrDmiafooYwgKi8KICAgICAgICBfdGhpcy5wYW56aUVsZW1lbnQuY2xhc3NMaXN0LmFkZChfdGhpcy5hbmltYXRpb25DbGFzcyk7CiAgICAgIH0sIDApOyAvLyDlm6DkuLrliqjnlLvml7bpl7TkuLogM3Mg77yM5omA5Lul6L+Z6YeMM3PlkI7ojrflj5bnu5PmnpzvvIzlhbblrp7nu5Pmnpzml6nlsLHlrprkuIvkuobvvIzlj6rmmK/kvZXml7bmmL7npLrvvIzlkYror4nnlKjmiLcKCiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKCiAgICAgICAgX3RoaXMuJGVtaXQoImVuZCIpOwogICAgICB9LCAzMDAwKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["turnTable.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAqCA,eAAA;AACA,EAAA,KAAA,EAAA;AACA,IAAA,MAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KADA;AAIA,IAAA,SAAA,EAAA;AACA,MAAA,OAAA,EAAA;AADA,KAJA;AAOA;AACA;AACA;AACA,IAAA,IAAA,EAAA;AACA,MAAA,OAAA,EAAA;AAAA,eAAA,EAAA;AAAA;AADA;AAVA,GADA;AAeA,EAAA,QAAA,EAAA;AACA,IAAA,cADA,4BACA;AACA;AACA,cAAA,KAAA,MAAA;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;;AACA,aAAA,CAAA;AACA,iBAAA,KAAA;AAhBA;AAkBA;AArBA,GAfA;AAsCA,EAAA,IAtCA,kBAsCA;AACA,WAAA;AACA,MAAA,OAAA,EAAA,KADA;AACA;AACA,MAAA,YAAA,EAAA;AAFA,KAAA;AAIA,GA3CA;AA4CA,EAAA,OA5CA,qBA4CA,CACA;AACA;AACA,GA/CA;AAgDA,EAAA,OAAA,EAAA;AACA;AACA,IAAA,KAFA,mBAEA;AACA,UAAA,CAAA,KAAA,OAAA,EAAA;AACA,aAAA,YAAA,GAAA,QAAA,CAAA,aAAA,CAAA,QAAA,CAAA;AACA,aAAA,YAAA,CAAA,SAAA,CAAA,MAAA,CAAA,KAAA,cAAA;AACA,aAAA,KAAA,CAAA,OAAA;AACA,aAAA,OAAA,GAAA,IAAA;AACA,OALA,MAKA;AACA,aAAA,OAAA,GAAA,KAAA;AACA;AACA,KAXA;AAYA;AACA,IAAA,WAbA,yBAaA;AAAA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA;;AACA;AACA,QAAA,KAAA,CAAA,YAAA,CAAA,SAAA,CAAA,GAAA,CAAA,KAAA,CAAA,cAAA;AACA,OAJA,EAIA,CAJA,CAAA,CADA,CAMA;;AACA,MAAA,UAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,KAAA;AACA,OAHA,EAGA,IAHA,CAAA;AAIA;AAxBA;AAhDA,CAAA","sourcesContent":["<template>\r\n  <div class=\"zp-box\">\r\n    <div class=\"panzi\">\r\n      <div\r\n        class=\"bck-box\"\r\n        :style=\"` transform: rotate(${-90 + 180 / list.length}deg)`\"\r\n      >\r\n        <div\r\n          class=\"bck\"\r\n          v-for=\"(i, index) in list\"\r\n          :key=\"index\"\r\n          :style=\"`transform: rotate(${(-index * 360) / list.length}deg) skew(${\r\n            -90 + 360 / list.length\r\n          }deg);`\"\r\n        ></div>\r\n      </div>\r\n      <div\r\n        v-for=\"(i, index) in list\"\r\n        :key=\"index\"\r\n        class=\"jiang\"\r\n        :style=\"`transform: rotate(${\r\n          (-index * 360) / list.length\r\n        }deg) translateY(-50px);`\"\r\n      >\r\n        <span v-if=\"!i.img\" class=\"title\">{{ i.info }}</span>\r\n        <img v-if=\"i.img\" :src=\"i.img\" alt=\"\" class=\"img\" />\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"start-btn\" @click=\"start()\">\r\n      <img src=\"../assets/image/start.png\" alt=\"\" class=\"circle\" />\r\n      <img src=\"../assets/image/arrow.png\" alt=\"\" class=\"arrow\" />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  props: {\r\n    winner: {\r\n      default: 2,\r\n    },\r\n    specified: {\r\n      default: false,\r\n    },\r\n    // loading: {\r\n    //   default: false,\r\n    // },\r\n    list: {\r\n      default: () => [],\r\n    },\r\n  },\r\n  computed: {\r\n    animationClass() {\r\n      //对应css样式中定义的class属性值,如果有更多的话可以继续添加  case 8:   return 'wr8'\r\n      switch (this.winner) {\r\n        case 1:\r\n          return \"wr0\";\r\n        case 2:\r\n          return \"wr1\";\r\n        case 3:\r\n          return \"wr2\";\r\n        case 4:\r\n          return \"wr3\";\r\n        case 5:\r\n          return \"wr4\";\r\n        case 6:\r\n          return \"wr5\";\r\n        case 7:\r\n          return \"wr6\";\r\n        case 8:\r\n          return \"wr7\";\r\n      }\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      loading: false, //抽奖执行状态，防止用户多次点击\r\n      panziElement: null,\r\n    };\r\n  },\r\n  mounted() {\r\n    // let root = document.querySelector(\":root\");\r\n    // root.style.setProperty(\"--nums\", this.list.length);\r\n  },\r\n  methods: {\r\n    //开始抽奖\r\n    start() {\r\n      if (!this.loading) {\r\n        this.panziElement = document.querySelector(\".panzi\");\r\n        this.panziElement.classList.remove(this.animationClass);\r\n        this.$emit(\"start\");\r\n        this.loading = true;\r\n      }else{\n        this.loading = false;\n      }\r\n    },\r\n    //中奖返回方法\r\n    winCallback() {\r\n      setTimeout(() => {\r\n        /* 此处是为了解决当下次抽中的奖励与这次相同，动画不重新执行的 */\r\n        /* 添加一个定时器，是为了解决动画属性的替换效果，实现动画的重新执行 */\r\n        this.panziElement.classList.add(this.animationClass);\r\n      }, 0);\r\n      // 因为动画时间为 3s ，所以这里3s后获取结果，其实结果早就定下了，只是何时显示，告诉用户\r\n      setTimeout(() => {\r\n        this.loading = false;\r\n        this.$emit(\"end\");\r\n      }, 3000);\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style lang=\"less\" scoped>\r\n@zp_size: 460px; //转盘尺寸\r\n@btn_size: 150px; //抽奖按钮尺寸\r\n@time: 3s; //转动多少秒后停下的时间\r\n.zp-box {\r\n  --nums: 6; // 转盘分几份\r\n  position: absolute;\r\n  top: 50%;\r\n  left: 50%;\r\n  transform: translate(-50%, -50%);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  width: @zp_size;\r\n  height: @zp_size;\r\n  user-select: none;\r\n  overflow: hidden;\r\n  /* 抽奖按钮 */\r\n  .start-btn {\r\n    position: relative;\r\n    width: @btn_size;\r\n    height: @btn_size;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    .circle {\r\n      width: 100%;\r\n      height: 100%;\r\n    }\r\n    .arrow {\r\n      position: absolute;\r\n      top: -53px;\r\n      width: 30px;\r\n    }\r\n  }\r\n  /* 盘子样式 */\r\n  .panzi {\r\n    position: absolute;\r\n    left: 0;\r\n    top: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    border-radius: 50%;\r\n    overflow: hidden;\r\n    /* 每个奖项的样式 */\r\n    .jiang {\r\n      position: absolute;\r\n      display: flex;\r\n      flex-direction: column;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n      height: 200px;\r\n      padding-bottom: 120px;\r\n      box-sizing: border-box;\r\n      .title {\r\n        color: #ff2b00;\r\n        font-size: 14px;\r\n        font-weight: bold;\r\n      }\r\n      .img {\r\n        width: 50px;\r\n        height: 50px;\r\n      }\r\n    }\r\n  }\r\n  .bck-box {\r\n    overflow: hidden;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    border-radius: 50%;\r\n    /* 转盘扇形背景 */\r\n    .bck {\r\n      box-sizing: border-box;\r\n      position: absolute;\r\n      width: 100%;\r\n      height: 100%;\r\n      opacity: 1;\r\n      top: -50%;\r\n      left: 50%;\r\n      transform-origin: 0% 100%;\r\n    }\r\n    /* 转盘背景色 */\r\n    .bck:nth-child(2n) {\r\n      background: #fff;\r\n    }\r\n    .bck:nth-child(2n + 1) {\r\n      background: #ffd7b0;\r\n    }\r\n  }\r\n\r\n  /* 下面的css样式为每个奖品的旋转动画，这里写了对应8个奖品的动画，如果想要更多的话，可以添加 */\r\n  /* 例如： .wr8  @keyframes play8 */\r\n  .wr0,\r\n  .wr1,\r\n  .wr2,\r\n  .wr3,\r\n  .wr4,\r\n  .wr5,\r\n  .wr6,\r\n  .wr7 {\r\n    animation-duration: @time;\r\n    animation-timing-function: ease;\r\n    animation-fill-mode: both;\r\n    animation-iteration-count: 1;\r\n  }\r\n  .wr0 {\r\n    animation-name: play0;\r\n  }\r\n  .wr1 {\r\n    animation-name: play1;\r\n  }\r\n  .wr2 {\r\n    animation-name: play2;\r\n  }\r\n  .wr3 {\r\n    animation-name: play3;\r\n  }\r\n  .wr4 {\r\n    animation-name: play4;\r\n  }\r\n  .wr5 {\r\n    animation-name: play5;\r\n  }\r\n  .wr6 {\r\n    animation-name: play6;\r\n  }\r\n  .wr7 {\r\n    animation-name: play7;\r\n  }\r\n  @keyframes play0 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 0));\r\n    }\r\n  }\r\n  @keyframes play1 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 1));\r\n    }\r\n  }\r\n  @keyframes play2 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 2));\r\n    }\r\n  }\r\n  @keyframes play3 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 3));\r\n    }\r\n  }\r\n  @keyframes play4 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 4));\r\n    }\r\n  }\r\n  @keyframes play5 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 5));\r\n    }\r\n  }\r\n  @keyframes play6 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 6));\r\n    }\r\n  }\r\n  @keyframes play7 {\r\n    to {\r\n      transform: rotate(calc(4 * 360deg + 360deg / var(--nums) * 7));\r\n    }\r\n  }\r\n}\r\n</style>\n"],"sourceRoot":"src/components"}]}