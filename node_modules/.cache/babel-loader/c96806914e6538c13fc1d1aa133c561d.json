{"remainingRequest":"/Users/admin/Desktop/turn_table/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js!/Users/admin/Desktop/turn_table/src/utils/random.js","dependencies":[{"path":"/Users/admin/Desktop/turn_table/src/utils/random.js","mtime":1634615510000},{"path":"/Users/admin/Desktop/turn_table/babel.config.js","mtime":1631839896000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/admin/Desktop/turn_table/node_modules/_babel-loader@8.2.3@babel-loader/lib/index.js","mtime":315532800000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9Vc2Vycy9hZG1pbi9EZXNrdG9wL3R1cm5fdGFibGUvbm9kZV9tb2R1bGVzL19AYmFiZWxfcnVudGltZUA3LjE2LjNAQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyI7CmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAiL1VzZXJzL2FkbWluL0Rlc2t0b3AvdHVybl90YWJsZS9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lQDcuMTYuM0BAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jbGFzc0NhbGxDaGVjay5qcyI7CmltcG9ydCBfY3JlYXRlQ2xhc3MgZnJvbSAiL1VzZXJzL2FkbWluL0Rlc2t0b3AvdHVybl90YWJsZS9ub2RlX21vZHVsZXMvX0BiYWJlbF9ydW50aW1lQDcuMTYuM0BAYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9jcmVhdGVDbGFzcy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm1hcC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuaXRlcmF0b3IuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLml0ZXJhdG9yLmpzIjsKCnZhciBHTCA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgLyoqDQogICAqIOaehOmAoOWHveaVsA0KICAgKiBAcGFyYW0ge29iamVjdH0gb3B0DQogICAqIEBwYXJhbSB7bnVtYmVyfSBvcHQubWluIOacgOWwj+aVtOaVsOWAvA0KICAgKiBAcGFyYW0ge251bWJlcn0gb3B0Lm1heCDmnIDlpKfmlbTmlbDlgLwNCiAgICogQHBhcmFtIHtNYXB9IG9wdC5mZW5wZWkg6Ieq5a6a5LmJ5qaC546HIA0KICAgKi8KICBmdW5jdGlvbiBHTChfcmVmKSB7CiAgICB2YXIgbWluID0gX3JlZi5taW4sCiAgICAgICAgbWF4ID0gX3JlZi5tYXgsCiAgICAgICAgX3JlZiRmZW5wZWkgPSBfcmVmLmZlbnBlaSwKICAgICAgICBmZW5wZWkgPSBfcmVmJGZlbnBlaSA9PT0gdm9pZCAwID8gbmV3IE1hcCgpIDogX3JlZiRmZW5wZWk7CgogICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIEdMKTsKCiAgICB0aGlzLm1pbiA9IG1pbjsKICAgIHRoaXMubWF4ID0gbWF4OwogICAgdGhpcy5mZW5wZWkgPSBmZW5wZWk7CiAgfQogIC8qKg0KICAgKiDlj6/liIbphY3nmb7liIbmr5QNCiAgICovCgoKICBfY3JlYXRlQ2xhc3MoR0wsIFt7CiAgICBrZXk6ICJiYWlmZW5iaSIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuICgxIC0gdGhpcy5wZWl6aGkpIC8gKHRoaXMubWF4IC0gdGhpcy5taW4gLSB0aGlzLmZlbnBlaS5zaXplKTsKICAgIH0KICAgIC8qKg0KICAgICAqIOWMuemFjeeZvuWIhuavlA0KICAgICAqLwoKICB9LCB7CiAgICBrZXk6ICJwZWl6aGkiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHZhciByZXN1bHQgPSAwOwoKICAgICAgdmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyKHRoaXMuZmVucGVpLnZhbHVlcygpKSwKICAgICAgICAgIF9zdGVwOwoKICAgICAgdHJ5IHsKICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgdmFyIGkgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgIGlmICgwIDwgaSAmJiBpIDwgMSkgcmVzdWx0ICs9IGk7CiAgICAgICAgfQogICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICBfaXRlcmF0b3IuZShlcnIpOwogICAgICB9IGZpbmFsbHkgewogICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgIH0KCiAgICAgIHJldHVybiByZXN1bHQ7CiAgICB9CiAgICAvKioNCiAgICAgKiDpmo/mnLrmlbANCiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBbbWluLG1heCkNCiAgICAgKi8KCiAgfSwgewogICAga2V5OiAicmFuZG9tIiwKICAgIHZhbHVlOiBmdW5jdGlvbiByYW5kb20oKSB7CiAgICAgIHZhciB0ID0gMCwKICAgICAgICAgIHIgPSBNYXRoLnJhbmRvbSgpOwoKICAgICAgZm9yICh2YXIgaSA9IHRoaXMubWluOyBpIDwgdGhpcy5tYXg7IGkrKykgewogICAgICAgIHRoaXMuZmVucGVpLmhhcyhpKSA/IHQgKz0gdGhpcy5mZW5wZWkuZ2V0KGkpIDogdCArPSB0aGlzLmJhaWZlbmJpOwogICAgICAgIGlmICh0ID4gcikgcmV0dXJuIGk7CiAgICAgIH0KCiAgICAgIHJldHVybiBudWxsOwogICAgfQogIH1dKTsKCiAgcmV0dXJuIEdMOwp9KCk7CgpleHBvcnQgZGVmYXVsdCBHTDs="},{"version":3,"sources":["/Users/admin/Desktop/turn_table/src/utils/random.js"],"names":["GL","min","max","fenpei","Map","peizhi","size","result","values","i","t","r","Math","random","has","get","baifenbi"],"mappings":";;;;;;;;IAAMA,E;AACF;AACJ;AACA;AACA;AACA;AACA;AACA;AACI,oBAA8C;AAAA,QAAhCC,GAAgC,QAAhCA,GAAgC;AAAA,QAA3BC,GAA2B,QAA3BA,GAA2B;AAAA,2BAAtBC,MAAsB;AAAA,QAAtBA,MAAsB,4BAAb,IAAIC,GAAJ,EAAa;;AAAA;;AAC1C,SAAKH,GAAL,GAAWA,GAAX;AACA,SAAKC,GAAL,GAAWA,GAAX;AACA,SAAKC,MAAL,GAAcA,MAAd;AACH;AAED;AACJ;AACA;;;;;SACI,eAAe;AACX,aAAO,CAAC,IAAI,KAAKE,MAAV,KAAqB,KAAKH,GAAL,GAAW,KAAKD,GAAhB,GAAsB,KAAKE,MAAL,CAAYG,IAAvD,CAAP;AACH;AAED;AACJ;AACA;;;;SACI,eAAa;AACT,UAAIC,MAAM,GAAG,CAAb;;AADS,iDAEK,KAAKJ,MAAL,CAAYK,MAAZ,EAFL;AAAA;;AAAA;AAET,4DAAoC;AAAA,cAA3BC,CAA2B;AAChC,cAAI,IAAIA,CAAJ,IAASA,CAAC,GAAG,CAAjB,EAAoBF,MAAM,IAAIE,CAAV;AACvB;AAJQ;AAAA;AAAA;AAAA;AAAA;;AAKT,aAAOF,MAAP;AACH;AAGD;AACJ;AACA;AACA;;;;WACI,kBAAS;AACL,UAAIG,CAAC,GAAG,CAAR;AAAA,UAAWC,CAAC,GAAGC,IAAI,CAACC,MAAL,EAAf;;AACA,WAAK,IAAIJ,CAAC,GAAG,KAAKR,GAAlB,EAAuBQ,CAAC,GAAG,KAAKP,GAAhC,EAAqCO,CAAC,EAAtC,EAA0C;AACtC,aAAKN,MAAL,CAAYW,GAAZ,CAAgBL,CAAhB,IAAqBC,CAAC,IAAI,KAAKP,MAAL,CAAYY,GAAZ,CAAgBN,CAAhB,CAA1B,GAA+CC,CAAC,IAAI,KAAKM,QAAzD;AACA,YAAIN,CAAC,GAAGC,CAAR,EAAW,OAAOF,CAAP;AACd;;AACD,aAAO,IAAP;AACH;;;;;;AAGL,eAAeT,EAAf","sourcesContent":["class GL {\r\n    /**\r\n     * 构造函数\r\n     * @param {object} opt\r\n     * @param {number} opt.min 最小整数值\r\n     * @param {number} opt.max 最大整数值\r\n     * @param {Map} opt.fenpei 自定义概率 \r\n     */\r\n    constructor({ min, max, fenpei = new Map() }) {\r\n        this.min = min;\r\n        this.max = max;\r\n        this.fenpei = fenpei;\r\n    }\r\n\r\n    /**\r\n     * 可分配百分比\r\n     */\r\n    get baifenbi() {\r\n        return (1 - this.peizhi) / (this.max - this.min - this.fenpei.size);\r\n    }\r\n\r\n    /**\r\n     * 匹配百分比\r\n     */\r\n    get peizhi() {\r\n        let result = 0;\r\n        for (let i of this.fenpei.values()) {\r\n            if (0 < i && i < 1) result += i;\r\n        }\r\n        return result;\r\n    }\r\n\r\n\r\n    /**\r\n     * 随机数\r\n     * @returns {number} [min,max)\r\n     */\r\n    random() {\r\n        let t = 0, r = Math.random();\r\n        for (let i = this.min; i < this.max; i++) {\r\n            this.fenpei.has(i) ? t += this.fenpei.get(i) : t += this.baifenbi;\r\n            if (t > r) return i;\r\n        }\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default GL;"]}]}